(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{232:function(e,t,s){Promise.resolve().then(s.bind(s,6835))},6835:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(2265),i=s(8905);let n=e=>{let{data:t,handleTagClick:s}=e;return(0,r.jsx)("div",{className:"mt-16 prompt_layout",children:t.map(e=>(0,r.jsx)(i.Z,{post:e,handleTagClick:()=>s(e)},e._id))})};t.default=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),c=async e=>{let r=e.target.value.toLowerCase();if(t(r),""===r.trim())o(s);else{let e=s.filter(e=>{let t=e.tag.toLowerCase().includes(r),s=e.prompt.toLowerCase().includes(r);return s||t});o(e)}console.log(s)};return(0,a.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/prompt"),t=await e.json();i(t),o(t)};e()},[]),(0,r.jsxs)("section",{className:"feed",children:[(0,r.jsx)("form",{className:"relative w-full flex-center",children:(0,r.jsx)("input",{type:"text",placeholder:"search for a tag or username",value:e,onChange:c,required:!0,className:"search_input peer"})}),(0,r.jsx)(n,{data:l,handleTagClick:e=>{t(e.tag.toLowerCase()),c({target:{value:e.tag.toLowerCase()}})}})]})}},8905:function(e,t,s){"use strict";var r=s(7437),a=s(2265),i=s(6691),n=s.n(i),l=s(2749),o=s(4033);t.Z=e=>{let{post:t,handleTagClick:s,handleEdit:i,handleDelete:c}=e,[d,u]=(0,a.useState)(""),{data:p}=(0,l.useSession)(),m=(0,o.usePathname)();return(0,o.useRouter)(),(0,r.jsxs)("div",{className:"prompt_card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-5",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-start items-center gap-3 cursor-pointer",children:[(0,r.jsx)(n(),{src:t.creator.image,height:40,width:40,alt:"user profile",className:"rounded-full object-contain"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h3",{className:"font-satoshi font-semibold text-grey-900",children:t.creator.username}),(0,r.jsx)("p",{className:"font-inter text-sm text-grey-500",children:t.creator.email})]})]}),(0,r.jsx)("div",{className:"copy_btn",onClick:()=>{u(t.prompt),navigator.clipboard.writeText(t.prompt),setTimeout(()=>{u("")},3e3)},children:(0,r.jsx)(n(),{src:d===t.prompt?"/assets/icons/tick.svg":"/assets/icons/copy.svg",width:20,height:20,alt:"copied or not"})})]}),(0,r.jsx)("p",{className:"my-4 font-satoshi text-sm text-grey-700",children:t.prompt}),(0,r.jsx)("p",{className:"font-inter text-sm blue_gradient cursor-pointer",onClick:()=>s&&s(t.tag),children:t.tag}),(null==p?void 0:p.user.id)===t.creator._id&&"/profile"===m&&(0,r.jsxs)("div",{className:"mt-5 flex-center gap-4 border-t border-grey-100 pt-3",children:[(0,r.jsx)("p",{className:"font-inter text-sm green_gradient cursor-pointer",onClick:i,children:"Edit"}),(0,r.jsx)("p",{className:"font-inter text-sm orange_gradient cursor-pointer",onClick:c,children:"Delete"})]})]})}},4033:function(e,t,s){e.exports=s(8165)}},function(e){e.O(0,[601,691,971,596,744],function(){return e(e.s=232)}),_N_E=e.O()}]);